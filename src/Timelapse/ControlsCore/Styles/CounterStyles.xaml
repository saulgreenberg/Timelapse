<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Merged common resources that counter styles depend on -->
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="CommonResources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!--#region Counter Button Style -->
    <SolidColorBrush x:Key="CounterBrushDisabledForeground" Color="#888" />
    <!-- ReSharper disable Xaml.RedundantResource -->
    <Style x:Key="CounterButton" TargetType="RadioButton" BasedOn="{StaticResource {x:Type ToggleButton}}">
        <!-- ReSharper restore Xaml.RedundantResource -->
        <Setter Property="FontWeight" Value="Bold" />
        <Setter Property="Margin" Value="5,0,5,0" />
        <Setter Property="Padding" Value="8,0,8,0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RadioButton}">

                    <BulletDecorator Cursor="Hand" VerticalAlignment="Center">

                        <!--Bullet Checkmark-->
                        <BulletDecorator.Bullet >
                            <Grid Height="25" Width="18" >

                                <!-- Border surrounding the checkmark-->
                                <Border Name="TickMarkBorder" CornerRadius="3,0,0,3" BorderBrush="Silver" BorderThickness="{StaticResource BorderThicknessCommonNormal}" Height="25" Background="White"/>
                                <Canvas Name="TickMark" Opacity=".1">
                                    <!-- Mark-->
                                    <Ellipse Name="Mark" Width="10" Height="10" Stroke="Blue" StrokeThickness="2" Fill="LightBlue"  Canvas.Top="7.5" Canvas.Left="4"/>
                                    <!-- Black Outline -->
                                    <Ellipse Width="11" Height="11" Stroke="Black" StrokeThickness="1" Canvas.Top="7" Canvas.Left="3.5"/>
                                    <!-- White Outline -->
                                    <Ellipse Width="12" Height="12" Stroke="White" StrokeThickness="1" Canvas.Top="6.3"  Canvas.Left="3"/>
                                    <!-- Glow-->
                                    <Ellipse Name="Glow" Width="15" Height="15" Stroke="Blue" StrokeThickness="2" Canvas.Top="5.0"  Canvas.Left="1.5" Opacity=".35"/>
                                </Canvas>

                            </Grid>
                        </BulletDecorator.Bullet>

                        <!--Border surrounding the Text element plus the text-->
                        <Border BorderBrush="Silver" BorderThickness="{StaticResource BorderThicknessCommonNormal}" CornerRadius="0,0,0,0" Width="Auto" Height="25" VerticalAlignment="Center" Margin="-2,0,0,0">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="White" Offset="0" />
                                    <GradientStop Color="#FFE2E2E2" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <TextBlock Name="text"  Margin="5,0,5,0" Foreground="Black" VerticalAlignment="Center" FontWeight="Bold">
                                <ContentPresenter />
                            </TextBlock>
                        </Border>
                    </BulletDecorator>

                    <!--If item is checked, trigger the visibility of the mark-->
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="true">
                            <Setter TargetName="TickMark" Property="Opacity" Value="1"/>
                            <Setter TargetName="TickMarkBorder" Property="Background" Value="LightBlue"/>
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsMouseOver" Value="True"/>
                                <Condition Property="IsChecked" Value="False"/>
                            </MultiTrigger.Conditions>
                            <Setter TargetName="Mark" Property="Stroke" Value="Gold"/>
                            <Setter TargetName="Mark" Property="Fill" Value="LightYellow"/>
                            <Setter TargetName="Glow" Property="Stroke" Value="Gold"/>
                            <Setter TargetName="Glow" Property="Fill" Value="Gold"/>
                            <Setter TargetName="TickMark" Property="Opacity" Value=".5"/>
                        </MultiTrigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" TargetName="text" Value="{StaticResource CounterBrushDisabledForeground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!--#endregion-->

</ResourceDictionary>
